# Observer

- Суть паттерна в том, чтобы создать сущность наблюдателя (Observer) и наблюдаемого(Observable). Observer заинтересован в наблюдении за Observable и получении информации, когда у наблюдаемого происходит изменение состояния
- В C# реализовано в том числе с помощью ключевого слова event
- Конкретно в C# очень важно отписываться от событий, иначе есть риск попасть на утечку памяти. Конструкция += по сути добавляет наблюдателя в список, и пока наблюдатель есть в списке наблюдаемого, он не будет собран GC, даже если присвоить ему null
- Помимо слова event есть интерфейсы IObserver<T>, IObservable<T> и неймспейс [System.Reactive.Linq](https://learn.microsoft.com/en-us/previous-versions/dotnet/reactive-extensions/hh211929(v=vs.103)).
  [Хорошая статья на Хабре на эту тему](https://habr.com/ru/articles/533128/)
- Также существуют интерфейсы INotifyPropertyChanged/Ing и аналог для коллекций. В основном используется в UI фреймворках
- Существует интересный вариант динамической(декларативной) подписки. Реализуется с помощью интерфейсов(и рефлексии) или атрибутов. Работает таким образом, что на этапе разрешения зависимостей, если один класс имеет определенный атрибут или интерфейс(ISubscriber<TEvent>), а другой имеет атрибут или интерфейс (IPublisher<TEvent>), то автоматически создается подписка